-- Seed data for testing
-- Run: docker exec -i tun_family_pg psql -U postgres -d tun_family_dev < server/sql/seed.sql
-- All users password: password123

-- Create two families
INSERT INTO families (id, name, created_at) VALUES
  ('a1000000-0000-0000-0000-000000000001', 'Ben Ali', NOW()),
  ('a2000000-0000-0000-0000-000000000002', 'Trabelsi', NOW())
ON CONFLICT DO NOTHING;

-- Create users (password: "password123" for all)
-- Using a valid bcrypt hash for "password123"
INSERT INTO users (id, family_id, email, password_hash, role, created_at) VALUES
  ('b1000000-0000-0000-0000-000000000001', 'a1000000-0000-0000-0000-000000000001', 'admin@benali.tn', '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW', 'ADMIN', NOW()),
  ('b1000000-0000-0000-0000-000000000002', 'a1000000-0000-0000-0000-000000000001', 'editor@benali.tn', '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW', 'EDITOR', NOW()),
  ('b2000000-0000-0000-0000-000000000001', 'a2000000-0000-0000-0000-000000000002', 'admin@trabelsi.tn', '$2b$10$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW', 'ADMIN', NOW())
ON CONFLICT DO NOTHING;

-- Create some regions
INSERT INTO regions (id, name) VALUES
  ('c1000000-0000-0000-0000-000000000001', 'Tunis'),
  ('c1000000-0000-0000-0000-000000000002', 'Sfax'),
  ('c1000000-0000-0000-0000-000000000003', 'Sousse'),
  ('c1000000-0000-0000-0000-000000000004', 'Kairouan'),
  ('c1000000-0000-0000-0000-000000000005', 'Bizerte')
ON CONFLICT DO NOTHING;

-- Create some expertise fields
INSERT INTO expertise_fields (id, name) VALUES
  ('d1000000-0000-0000-0000-000000000001', 'Medicine'),
  ('d1000000-0000-0000-0000-000000000002', 'Engineering'),
  ('d1000000-0000-0000-0000-000000000003', 'Law'),
  ('d1000000-0000-0000-0000-000000000004', 'Education'),
  ('d1000000-0000-0000-0000-000000000005', 'Business')
ON CONFLICT DO NOTHING;

-- Create some surnames
INSERT INTO surnames (id, canonical_name, aliases, notes, created_at) VALUES
  ('e1000000-0000-0000-0000-000000000001', 'Ben Ali', ARRAY['Benali', 'Ben-Ali'], 'Common Tunisian surname', NOW()),
  ('e1000000-0000-0000-0000-000000000002', 'Trabelsi', ARRAY['Tarabelsi', 'Trablesi'], 'From Tripoli origin', NOW()),
  ('e1000000-0000-0000-0000-000000000003', 'Hammami', ARRAY['Hamami', 'El Hammami'], 'From public bath owners', NOW()),
  ('e1000000-0000-0000-0000-000000000004', 'Bouazizi', ARRAY['Bouzizi'], 'Notable name', NOW())
ON CONFLICT DO NOTHING;

-- Ben Ali family members
INSERT INTO people (id, family_id, first_name, last_name_raw, surname_id, region_id, expertise_id, birth_date, death_date, notes, created_at) VALUES
  ('f1000000-0000-0000-0000-000000000001', 'a1000000-0000-0000-0000-000000000001', 'Mohamed', 'Ben Ali', 'e1000000-0000-0000-0000-000000000001', 'c1000000-0000-0000-0000-000000000001', 'd1000000-0000-0000-0000-000000000001', '1950-03-15', NULL, 'Family patriarch, retired doctor', NOW()),
  ('f1000000-0000-0000-0000-000000000002', 'a1000000-0000-0000-0000-000000000001', 'Fatma', 'Ben Ali', 'e1000000-0000-0000-0000-000000000001', 'c1000000-0000-0000-0000-000000000001', 'd1000000-0000-0000-0000-000000000004', '1955-07-22', NULL, 'Family matriarch, teacher', NOW()),
  ('f1000000-0000-0000-0000-000000000003', 'a1000000-0000-0000-0000-000000000001', 'Ahmed', 'Ben Ali', 'e1000000-0000-0000-0000-000000000001', 'c1000000-0000-0000-0000-000000000001', 'd1000000-0000-0000-0000-000000000002', '1978-11-10', NULL, 'Son, engineer at Steg', NOW()),
  ('f1000000-0000-0000-0000-000000000004', 'a1000000-0000-0000-0000-000000000001', 'Leila', 'Ben Ali', 'e1000000-0000-0000-0000-000000000001', 'c1000000-0000-0000-0000-000000000002', 'd1000000-0000-0000-0000-000000000003', '1982-04-05', NULL, 'Daughter, lawyer in Sfax', NOW()),
  ('f1000000-0000-0000-0000-000000000005', 'a1000000-0000-0000-0000-000000000001', 'Youssef', 'Ben Ali', 'e1000000-0000-0000-0000-000000000001', 'c1000000-0000-0000-0000-000000000001', NULL, '2005-09-18', NULL, 'Grandson, student', NOW()),
  ('f1000000-0000-0000-0000-000000000006', 'a1000000-0000-0000-0000-000000000001', 'Salah', 'Ben Ali', 'e1000000-0000-0000-0000-000000000001', 'c1000000-0000-0000-0000-000000000004', NULL, '1920-01-01', '1995-06-20', 'Grandfather, passed away', NOW())
ON CONFLICT DO NOTHING;

-- Trabelsi family members
INSERT INTO people (id, family_id, first_name, last_name_raw, surname_id, region_id, expertise_id, birth_date, death_date, notes, created_at) VALUES
  ('f2000000-0000-0000-0000-000000000001', 'a2000000-0000-0000-0000-000000000002', 'Karim', 'Trabelsi', 'e1000000-0000-0000-0000-000000000002', 'c1000000-0000-0000-0000-000000000002', 'd1000000-0000-0000-0000-000000000005', '1965-08-12', NULL, 'Businessman, owns olive oil factory', NOW()),
  ('f2000000-0000-0000-0000-000000000002', 'a2000000-0000-0000-0000-000000000002', 'Sonia', 'Trabelsi', 'e1000000-0000-0000-0000-000000000002', 'c1000000-0000-0000-0000-000000000002', 'd1000000-0000-0000-0000-000000000001', '1970-02-28', NULL, 'Doctor at Sfax hospital', NOW()),
  ('f2000000-0000-0000-0000-000000000003', 'a2000000-0000-0000-0000-000000000002', 'Nadia', 'Trabelsi', 'e1000000-0000-0000-0000-000000000002', 'c1000000-0000-0000-0000-000000000003', NULL, '1995-12-01', NULL, 'Daughter, works in Sousse', NOW()),
  ('f2000000-0000-0000-0000-000000000004', 'a2000000-0000-0000-0000-000000000002', 'Slim', 'Trabelsi', 'e1000000-0000-0000-0000-000000000002', 'c1000000-0000-0000-0000-000000000002', 'd1000000-0000-0000-0000-000000000002', '1998-06-15', NULL, 'Son, IT engineer', NOW())
ON CONFLICT DO NOTHING;

-- Ben Ali family tree edges
INSERT INTO family_tree_edges (id, family_id, from_person_id, to_person_id, type, created_at) VALUES
  ('aa000000-0000-0000-0000-000000000001', 'a1000000-0000-0000-0000-000000000001', 'f1000000-0000-0000-0000-000000000006', 'f1000000-0000-0000-0000-000000000001', 'PARENT_OF', NOW()),
  ('aa000000-0000-0000-0000-000000000002', 'a1000000-0000-0000-0000-000000000001', 'f1000000-0000-0000-0000-000000000001', 'f1000000-0000-0000-0000-000000000002', 'SPOUSE_OF', NOW()),
  ('aa000000-0000-0000-0000-000000000003', 'a1000000-0000-0000-0000-000000000001', 'f1000000-0000-0000-0000-000000000001', 'f1000000-0000-0000-0000-000000000003', 'PARENT_OF', NOW()),
  ('aa000000-0000-0000-0000-000000000004', 'a1000000-0000-0000-0000-000000000001', 'f1000000-0000-0000-0000-000000000002', 'f1000000-0000-0000-0000-000000000003', 'PARENT_OF', NOW()),
  ('aa000000-0000-0000-0000-000000000005', 'a1000000-0000-0000-0000-000000000001', 'f1000000-0000-0000-0000-000000000001', 'f1000000-0000-0000-0000-000000000004', 'PARENT_OF', NOW()),
  ('aa000000-0000-0000-0000-000000000006', 'a1000000-0000-0000-0000-000000000001', 'f1000000-0000-0000-0000-000000000002', 'f1000000-0000-0000-0000-000000000004', 'PARENT_OF', NOW()),
  ('aa000000-0000-0000-0000-000000000007', 'a1000000-0000-0000-0000-000000000001', 'f1000000-0000-0000-0000-000000000003', 'f1000000-0000-0000-0000-000000000005', 'PARENT_OF', NOW())
ON CONFLICT DO NOTHING;

-- Trabelsi family tree edges
INSERT INTO family_tree_edges (id, family_id, from_person_id, to_person_id, type, created_at) VALUES
  ('aa000000-0000-0000-0000-000000000008', 'a2000000-0000-0000-0000-000000000002', 'f2000000-0000-0000-0000-000000000001', 'f2000000-0000-0000-0000-000000000002', 'SPOUSE_OF', NOW()),
  ('aa000000-0000-0000-0000-000000000009', 'a2000000-0000-0000-0000-000000000002', 'f2000000-0000-0000-0000-000000000001', 'f2000000-0000-0000-0000-000000000003', 'PARENT_OF', NOW()),
  ('aa000000-0000-0000-0000-00000000000a', 'a2000000-0000-0000-0000-000000000002', 'f2000000-0000-0000-0000-000000000002', 'f2000000-0000-0000-0000-000000000003', 'PARENT_OF', NOW()),
  ('aa000000-0000-0000-0000-00000000000b', 'a2000000-0000-0000-0000-000000000002', 'f2000000-0000-0000-0000-000000000001', 'f2000000-0000-0000-0000-000000000004', 'PARENT_OF', NOW()),
  ('aa000000-0000-0000-0000-00000000000c', 'a2000000-0000-0000-0000-000000000002', 'f2000000-0000-0000-0000-000000000002', 'f2000000-0000-0000-0000-000000000004', 'PARENT_OF', NOW())
ON CONFLICT DO NOTHING;

-- Done!
